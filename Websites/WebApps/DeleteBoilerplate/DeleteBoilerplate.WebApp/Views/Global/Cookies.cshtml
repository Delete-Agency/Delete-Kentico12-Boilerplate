@using CMS.Helpers
@model DeleteBoilerplate.WebApp.Models.Global.Cookies.CookiesViewModel

@if (Model == null)
{
    return;
}

<button id="toggle-cookies-form" class="btn">Show cookie</button>

<div id="cookie-form" style="display: none">
    @* Cookie Banner *@
    <div>
        <form method="post" action="@Url.RouteUrl("Default", new {action = "AcceptAllCookies", controller = "Cookies"})">
            <h2>@ResHelper.GetString("DeleteBoilerplate.Cookies.Title")</h2>
            <div>
                <p>@Html.Raw(Model.CookiePolicy)</p>
            </div>

            <div>
                <button type="button" id="toggle-cookie-settings-form" class="btn">
                    Cookie Settings
                </button>
                <button type="submit" class="btn">
                    @ResHelper.GetString("DeleteBoilerplate.Cookies.Button")
                </button>
            </div>
        </form>
    </div>

    @* Cookie Settings Form *@
    <div id="cookie-settings-form" style="display: none">
        <div>
            <h2>@ResHelper.GetString("DeleteBoilerplate.Cookies.SettingsTitle")</h2>
        </div>
        <form method="post" action="@Url.RouteUrl("Default", new {action = "SetCookieSettings", controller = "Cookies"})">
            <div>
                <input type="checkbox" name="" value="true" checked disabled data-dc-cookie="level-1">
                <label>@ResHelper.GetString("DeleteBoilerplate.Cookies.Label.Functional")</label>
                <div>
                    <p>@Html.Raw(Model.FunctionalCookies)</p>
                </div>
            </div>
            <div>
                <input type="checkbox" name="isPerformance" value="true" checked="@Model.IsPerformance" data-dc-cookie="level-2">
                <label>@ResHelper.GetString("DeleteBoilerplate.Cookies.Label.Performance")</label>
                <div>
                    <p>@Html.Raw(Model.PerformanceCookies)</p>
                </div>
            </div>
            <div>
                <input type="checkbox" name="IsTracking" value="true" checked="@Model.IsTracking" data-dc-cookie="level-3">
                <label>@ResHelper.GetString("DeleteBoilerplate.Cookies.Label.Tracking")</label>
                <div>
                    <p>@Html.Raw(Model.TrackingCookies)</p>
                </div>
            </div>
            <div>
                <button type="submit" class="btn">
                    @ResHelper.GetString("DeleteBoilerplate.Cookies.SettingsButton")
                </button>
            </div>
        </form>
    </div>
</div>


<script>
    function ToggleDisplayElements(bntId, elementId) {
        document.getElementById(bntId).onclick = function () {
            var el = document.getElementById(elementId);
            el.style.display === 'none' ? el.style.display = 'initial' : el.style.display = 'none';
        }
    }

    ToggleDisplayElements('toggle-cookies-form', 'cookie-form');
    ToggleDisplayElements('toggle-cookie-settings-form', 'cookie-settings-form');
</script>